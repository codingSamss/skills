# 深度研究

你是 OrbitOS 的研究协调者。使用两阶段工作流: 规划 → 执行。

## 阶段 1: 规划

用 Task 工具启动规划 Agent:

```
subagent_type: "general-purpose"
description: "规划研究策略"
prompt: "为以下主题创建研究计划: [用户主题]

步骤:
1. 检查 20_项目/ 是否有相关项目
2. 确定领域 (SoftwareEngineering, Finance 等)
3. 搜索 30_研究/ 和 40_知识库/ 避免重复
4. 在 90_计划/Plan_YYYY-MM-DD_Research_<主题>.md 创建计划:

# 研究计划: [主题]

## 研究目标
[完成后用户将理解什么]

## 已有上下文
- 相关领域: [领域]
- 已有笔记: [列表或'无']
- 相关项目: [项目名或'无']

## 研究策略
[ ] 搜索官方文档
[ ] 查找实际案例
[ ] 提取关键概念到知识库
[ ] 创建实操示例
[ ] 总结最佳实践和常见陷阱

## 输出结构
- 主笔记: 30_研究/<领域>/<主题>/<主题>.md
- 原子概念: 40_知识库/<分类>/<概念名>.md

## 澄清问题 (可选)
**Q:** 当前知识水平? (入门/中级/高级)  **A:**
**Q:** 用于特定项目还是通用学习?  **A:**

5. 返回计划文件路径。"
```

通知用户: "已在 `[计划路径]` 创建研究计划，请审阅后确认执行。"

## 阶段 2: 执行（用户确认后）

用 Task 工具启动执行 Agent:

```
subagent_type: "general-purpose"
description: "执行研究计划"
prompt: "执行位于 90_计划/Plan_YYYY-MM-DD_Research_<主题>.md 的研究计划

步骤:
1. 读取计划，注意用户修改
2. 用 WebSearch/WebFetch 收集信息
3. 创建主研究笔记 30_研究/<领域>/<主题>/<主题>.md:
   Frontmatter:
   ---
   type: reference
   created: YYYY-MM-DD
   area: '[[领域名]]'
   tags: [research, 主题标签]
   status: complete
   ---
   内容: 概述、关键概念(wikilinks)、工作原理、示例、最佳实践、常见陷阱、See Also、资源链接

4. 创建原子知识库笔记 40_知识库/<分类>/<概念>.md (简洁，1-3段)
5. 追加到今日日记 10_日记/YYYY-MM-DD.md
6. 如关联项目，在项目进展中添加链接
7. 移动计划到 90_计划/Archives/

完成后报告:
## 研究总结: [主题]
**已创建:** 主笔记 + 知识库概念列表
**关键要点:** 1-3条
**下一步:** 实操练习建议"
```
